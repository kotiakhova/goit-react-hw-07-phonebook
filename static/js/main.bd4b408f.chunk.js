(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(e,t,n){e.exports={container:"ContactListItem_container__2jeJP",removeBtn:"ContactListItem_removeBtn__hDzns",smallContainer:"ContactListItem_smallContainer__1CbM9"}},20:function(e,t,n){e.exports={container:"ContactForm_container__1INJV",errorModal:"ContactForm_errorModal__MTR8t"}},24:function(e,t,n){e.exports={container:"App_container__6j1zw",logo:"App_logo__3qVxm"}},38:function(e,t,n){e.exports=n(68)},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),u=n(16),m=n(17),l=n(19),i=n(18),s=n(69),b=n(6),f=n(8),d=n(14),h=n.n(d),p=n(1),E=Object(p.b)("phonebook/addRequest"),I=Object(p.b)("phonebook/addSuccess"),O=Object(p.b)("phonebook/addError"),j=Object(p.b)("phonebook/remove"),v=Object(p.b)("phonebook/deleteRequest"),g=Object(p.b)("phonebook/deleteSuccess"),C=Object(p.b)("phonebook/deleteError"),k={deleteItem:j,filterItem:Object(p.b)("phonebook/filter"),addItemRequest:E,addItemSuccess:I,addItemError:O,deleteItemRequest:v,deleteItemSuccess:g,deleteItemError:C,fetchItemsRequest:Object(p.b)("phonebook/fetchRequest"),fetchItemsSuccess:Object(p.b)("phonebook/fetchSuccess"),fetchItemsError:Object(p.b)("phonebook/fetchError")};h.a.defaults.baseURL="http://localhost:2000";var y={addItem:function(e,t){return function(n){n(k.addItemRequest()),h.a.post("/contacts",{name:e,number:t}).then((function(e){var t=e.data;return n(k.addItemSuccess(t))})).catch((function(e){n(k.addItemError(e))}))}},fetchItems:function(){return function(e){e(k.fetchItemsRequest()),h.a.get("/contacts").then((function(t){var n=t.data;return e(k.fetchItemsSuccess(n))})).catch((function(t){return e(k.fetchItemsError(t))}))}},removeItem:function(e){return function(t){t(k.deleteItemRequest()),h.a.delete("/contacts/".concat(e)).then((function(){return t(k.deleteItemSuccess(e))})).catch((function(e){return t(k.deleteItemError(e))}))}}},S=n(9),_=n(2),N=function(e){return e.phonebookReducer.items},F=function(e){return e.phonebookReducer.filter},R={getItem:N,getFilter:F,getItemById:Object(_.a)([function(e,t){return t},N],(function(e,t){var n=t.find((function(t){return t.id===e}));return Object(S.a)({},n)})),getFilteredItems:Object(_.a)([N,F],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},x=n(20),q=n.n(x),w=(n(65),function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:"",isCorrect:!1,isFull:!1},e.handleChange=function(t){var n=t.target.name;e.setState(Object(f.a)({},n,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.nameChecking()?(e.setState({isCorrect:!0}),setTimeout((function(){e.setState({isCorrect:!1})}),4e3)):e.state.name&&e.state.number?(e.setState({name:"",number:"",isCorrect:!1}),e.props.addItem(e.state.name,e.state.number)):(e.setState({isFull:!0}),setTimeout((function(){e.setState({isFull:!1})}),4e3))},e}return Object(m.a)(n,[{key:"nameChecking",value:function(){var e=this,t=!1;return this.props.contacts.forEach((function(n){n.name.toLowerCase()===e.state.name.toLowerCase()&&(t=e.state.name)})),t}},{key:"render",value:function(){var e=this.state,t=e.number,n=e.name,a=e.isCorrect,c=e.isFull;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:q.a.container},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("p",null,"Name"),r.a.createElement("input",{name:"name",type:"text",placeholder:"Enter name",onChange:this.handleChange,value:n})),r.a.createElement("label",null,r.a.createElement("p",null,"Number"),r.a.createElement("input",{name:"number",type:"text",placeholder:"Enter number",onChange:this.handleChange,value:t})),r.a.createElement("button",{type:"submit"},"Add contact ")),r.a.createElement(s.a,{in:!!a,appear:!0,classNames:"errorModal",timeout:250,unmountOnExit:!0},r.a.createElement("div",{className:q.a.errorModal},"".concat(this.nameChecking()," is already in contact"))),r.a.createElement(s.a,{in:!!c,appear:!0,classNames:"errorModal",timeout:250,unmountOnExit:!0},r.a.createElement("div",{className:q.a.errorModal},"Write name and number"))))}}]),n}(a.Component)),L=Object(b.b)((function(e){return{contacts:R.getItem(e)}}),(function(e){return{addItem:function(t,n){return e(y.addItem(t,n))}}}))(w);var M=Object(b.b)((function(e){return{filter:R.getFilter(e)}}),(function(e){return{filterItems:function(t){return e(k.filterItem(t))}}}))((function(e){var t=e.filterItems;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("p",null,"Find contacts by name"),r.a.createElement("input",{name:"filter",type:"text",onChange:function(e){return t(e.currentTarget.value)}})))})),B=n(70),A=n(13),J=n.n(A);var T=Object(b.b)((function(e,t){return R.getItemById(e,t.id)}),(function(e,t){return{removeItem:function(){return e(y.removeItem(t.id))}}}))((function(e){var t=e.name,n=e.number,a=e.removeItem;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:J.a.container},r.a.createElement("p",{className:J.a.name},t),r.a.createElement("div",{className:J.a.smallContainer},r.a.createElement("p",{className:J.a.number},n),r.a.createElement("button",{type:"button",onClick:a,className:J.a.removeBtn}))))}));n(66);var D,z=Object(b.b)((function(e){return{contacts:R.getFilteredItems(e)}}))((function(e){var t=e.contacts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{component:"ul",className:"ContactList"},t.map((function(e){var t=e.id;return r.a.createElement(s.a,{key:t,timeout:250,classNames:"contactListItem"},r.a.createElement(T,{id:t}))}))))})),P=n(24),V=n.n(P),U=(n(67),function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchItems()}},{key:"render",value:function(){var e=this.props.contacts;return r.a.createElement("div",{className:V.a.container},r.a.createElement(s.a,{in:!0,appear:!0,classNames:"logo",timeout:500,unmountOnExit:!0},r.a.createElement("h1",{className:V.a.logo},"Phonebook")),r.a.createElement(L,null),r.a.createElement("h2",null,"Contacts"),r.a.createElement(s.a,{in:e.length>1,appear:!0,classNames:"filter",timeout:500,unmountOnExit:!0},r.a.createElement(M,null)),r.a.createElement(z,null))}}]),n}(a.Component)),W={onFetchItems:y.fetchItems},G=Object(b.b)((function(e){return{contacts:R.getItem(e)}}),W)(U),H=n(36),K=Object(p.c)({items:[],filter:""},(D={},Object(f.a)(D,k.addItemSuccess,(function(e,t){return Object(S.a)(Object(S.a)({},e),{},{items:[].concat(Object(H.a)(e.items),[t.payload])})})),Object(f.a)(D,k.deleteItemSuccess,(function(e,t){return Object(S.a)(Object(S.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.payload}))})})),Object(f.a)(D,k.filterItem,(function(e,t){return Object(S.a)(Object(S.a)({},e),{},{filter:t.payload})})),Object(f.a)(D,k.fetchItemsSuccess,(function(e,t){return{items:t.payload,filter:""}})),D)),Q=Object(p.a)({reducer:{phonebookReducer:K}});o.a.render(r.a.createElement(b.a,{store:Q},r.a.createElement(G,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.bd4b408f.chunk.js.map